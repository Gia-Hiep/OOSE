<!doctype html>
<html lang="vi" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QUẢN LÝ SẢN PHẨM</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
  <div class="container">
    <a class="navbar-brand" href="/">QUẢN LÝ SẢN PHẨM</a>
    <div>
      <a class="btn btn-sm btn-outline-light me-2" href="/">Trang chủ</a>
      <a class="btn btn-sm btn-outline-light me-2" href="/inventory">Tồn kho</a>
      <a class="btn btn-sm btn-warning" href="/order">Đặt hàng</a>
    </div>
  </div>
</nav>
<div class="container">
  <div class="card shadow-sm"><div class="card-body">
    <h3 class="mb-3">Giảm giá sản phẩm</h3>
<form method="post" th:action="@{'/products/' + ${p.id} + '/discount'}">
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">Sản phẩm</label>
      <input class="form-control" th:value="${p.id + ' - ' + p.name}" readonly>
    </div>
    <div class="col-md-3">
      <label class="form-label">% giảm (0..100)</label>
      <input class="form-control" name="percent" type="number" step="0.1" min="0" max="100" th:value="${p.discountPercent}" required>
    </div>
    <div class="col-md-3">
      <label class="form-label">Giá sau giảm</label>
      <input class="form-control" th:value="${#numbers.formatDecimal(p.effectivePrice,1,2)}" readonly>
    </div>
  </div>
  <div class="mt-3">
    <button class="btn btn-warning">Áp dụng</button>
    <a class="btn btn-secondary" href="/">Hủy</a>
  </div>
</form>

  </div></div>
</div>
</body>
</html>
